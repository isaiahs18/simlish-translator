<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simlish Song Translator ğŸµ</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸµ Simlish Song Translator</h1>
            <p class="subtitle">Translate song lyrics to Simlish with perfect syllable matching!</p>
            <p><a href="dictionary.html" class="btn-primary" style="margin-top:10px; display:inline-block;">ğŸ“– General
                    Dictionary</a></p>
        </header>
        <main>
            <div class="translator-container">
                <div class="translator-columns">
                    <div class="column">
                        <label for="english-input">English Lyrics</label>
                        <textarea id="english-input" placeholder="Enter your text here..."></textarea>
                    </div>
                    <div class="column">
                        <label for="simlish-output">Simlish Translation</label>
                        <textarea id="simlish-output" placeholder="Your Simlish translation will appear here..."
                            readonly></textarea>
                    </div>
                </div>
                <div class="controls">
                    <button id="translate-btn" class="btn-primary">Translate to Simlish â†’</button>
                    <button id="clear-btn" class="btn-clear">Clear All</button>
                </div>
            </div>
            <div class="common-phrases">
                <h3>Quick Phrases</h3>
                <div class="phrase-grid">
                    <div class="phrase-card" data-english="Hello"><span class="phrase-simlish">Sul sul!</span><span
                            class="phrase-english">Hello!</span></div>
                    <div class="phrase-card" data-english="Goodbye"><span class="phrase-simlish">Dag dag!</span><span
                            class="phrase-english">Goodbye!</span></div>
                    <div class="phrase-card" data-english="I love you"><span
                            class="phrase-simlish">Meshaloob!</span><span class="phrase-english">I love you!</span>
                    </div>
                    <div class="phrase-card" data-english="Thank you"><span class="phrase-simlish">Vadish!</span><span
                            class="phrase-english">Thank you!</span></div>
                </div>
            </div>
        </main>
        <footer>
            <p>Made with â¤ï¸ for Sims fans | Optimized & Fast!</p>
            <p style="margin-top: 10px;">
                <a href="lyrics.html" style="color: #9b59b6; text-decoration: none; font-weight: 600;">ğŸµ Song
                    Lyrics</a>
                <a href="songs.html"
                    style="color: #9b59b6; text-decoration: none; font-weight: 600; margin-left: 15px;">ğŸµ View Song
                    Dictionary</a>
                <a href="dictionary.html"
                    style="color: #9b59b6; text-decoration: none; font-weight: 600; margin-left: 15px;">ğŸ“– General
                    Dictionary</a>
            </p>
        </footer>
    </div>

    <!-- Embedded data (works without web server) -->
    <!-- Embedded data (works without web server) -->
    <script src="data/dictionary.js"></script>
    <script src="data/contextual-phrases.js"></script>
    <script src="data/semantic-categories.js"></script>
    <script src="js/phonetic-engine.js"></script>
    <script src="js/core/translator.js"></script>
    <script>
        let translator = null;

        function initializeTranslator() {
            try {
                // Initialize Phonetic Engine
                const phoneticEngine = new PhoneticEngine();

                // Use embedded data (no CORS issues)
                translator = new SimlishTranslator(
                    window.SimlishData.dictionary,
                    window.SimlishData.contextualPhrases,
                    window.SimlishData.semanticCategories,
                    phoneticEngine
                );
                console.log('âœ… Translator ready with Phonetic Engine!');
            } catch (error) {
                console.error('âŒ Failed to initialize:', error);
                alert('Failed to load translator. Please refresh.');
            }
        }

        function translateText() {
            if (!translator) { alert('Still loading...'); return; }
            const input = document.getElementById('english-input').value;
            document.getElementById('simlish-output').value = translator.translate(input);
        }

        function clearAll() {
            document.getElementById('english-input').value = '';
            document.getElementById('simlish-output').value = '';
        }

        window.addEventListener('DOMContentLoaded', () => {
            initializeTranslator();
            document.getElementById('translate-btn').addEventListener('click', translateText);
            document.getElementById('clear-btn').addEventListener('click', clearAll);
            document.getElementById('english-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); translateText(); }
            });
            document.querySelectorAll('.phrase-card').forEach(card => {
                card.addEventListener('click', () => {
                    document.getElementById('english-input').value = card.dataset.english;
                    translateText();
                });
            });
        });
    </script>
</body>

</html>